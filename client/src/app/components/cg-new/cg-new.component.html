<app-navbar></app-navbar>
<div id="sm-screen" class="container w-50 mt-5">
  <div class="card card-outline-secondary mb-5">
    <div class="card-header">
      <h3 class="mb-0">Create a New Campground</h3>
    </div>
    <div class="card-body">
      <form [formGroup]="cgForm" (ngSubmit)="onSubmit()">
        <div class="form-row">
          <div class="col-12 mb-3">
            <label for="validationServer01">Title</label>
            <input type="text" class="form-control"
              [ngClass]="{'is-valid': cgForm.get('title').valid && cgForm.get('title').touched, 'is-invalid': cgForm.get('title').invalid && cgForm.get('title').touched }"
              formControlName="title" id="validationServer01" placeholder="title">
            <div class="invalid-feedback">Please provide a title</div>
            <div class="valid-feedback">Looks good!</div>
          </div>
          <div class="col-12 mb-3">
            <label for="validationServer02">Price</label>
            <input type="number" class="form-control" min=".95" max="10000" step=".05"
              [ngClass]="{'is-valid': cgForm.get('price').valid && cgForm.get('price').touched, 'is-invalid': cgForm.get('price').invalid && cgForm.get('price').touched }"
              formControlName="price" id="validationServer02" placeholder="$price">
            <div class="invalid-feedback">Please provide a price</div>
            <div class="valid-feedback">Looks good!</div>
          </div>
          <label for="inputGroupFile01">Image</label>
          <div class="col-12 mb-3">
            <input type="file" (change)="onFileChange($event)" class="custom-file-input"
              [ngClass]="{'is-valid': cgForm.get('imageId').valid && cgForm.get('imageId').touched, 'is-invalid': cgForm.get('imageId').invalid && cgForm.get('imageId').touched }"
              formControlName="imageId" id="inputGroupFile01" accept="image/*">
            <label class="custom-file-label" for="inputGroupFile01">{{filename}}</label>
            <div class="invalid-feedback">Please provide an image</div>
            <div class="valid-feedback">Looks good!</div>
          </div>
          <div class="col-12 mb-3">
            <label for="validationServer03">Description</label>
            <textarea class="form-control"
              [ngClass]="{'is-valid': cgForm.get('description').valid && cgForm.get('description').touched, 'is-invalid': cgForm.get('description').invalid && cgForm.get('description').touched }"
              formControlName="description" rows="4" id="validationServer03"></textarea>
            <div class="invalid-feedback">Please provide a Description</div>
            <div class="valid-feedback">Looks good!</div>
          </div>
          <div class="col-12">
            <div class="d-flex justify-content-end">
              <div class=" my-3">
                <div *ngIf="loading" class="align-middle lds-ring">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
                <button class="btn btn-primary btn-lg" [disabled]="cgForm.invalid || loading">Create</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>